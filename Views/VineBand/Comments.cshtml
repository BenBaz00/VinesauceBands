@model VinesauceBands.Models.Song

@{
    ViewBag.Title = Model.SongTitle + " - Comments";
}
@section Styles{
    <link href="@Url.Content("~/css/band.css")" rel="stylesheet" type="text/css" />
}
<div class="content col-12 col-sm-12 col-md-12 col-lg-12">
    
    <h2><u>Comments for @Model.SongTitle</u></h2><br/>
    <h3><i>Overall Rating: @ViewBag.avgRating</i></h3><br/>
    <h3>Add a comment: </h3><hr />

    <form name="commentForm" method="post" onsubmit="return validateData(this);" enctype="application/x-www-form-urlencoded" action="makeComment">
        <input type="hidden" id="song" name="song" value="@Model.SongID" />

        <label for="username">Name:</label>
        <input type="text" id="username" name="username" /><br/>
        <label for="rating">Rating(0-5):</label>
        <input type="number" id="rating" name="rating" min="0" max="5" required/><br />
        <label for="message">Comment(Up to 500 characters):</label>
        <input type="text" id="message" name="message" /><br /><br/>
        <input type="submit" id="commentSubmit" value="submit" />
    </form>
    
    <br/><br />
    <h2>Comments:</h2>
    <hr/>

    @foreach (var msg in Model.Comments)
    {
 
        <h4>
            @Html.DisplayFor(modelItem => msg.Username)
        </h4>
        <p>
            Rating: @Html.DisplayFor(modelItem => msg.rating)
            <br/>
            @Html.DisplayFor(modelItem => msg.Message)
        </p>
        <br />
    }

</div>
